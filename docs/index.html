<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Curated genomic annotation resources for cloud or local use • BiocAnnoParq</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Curated genomic annotation resources for cloud or local use">
<meta name="description" content="This package represents an intervention in the BioconductorAnnotationPipeline system. Selected annotation tables for human and mouse were extracted from NCBI resources using the pipeline. The tables were converted to parquet format to manage volume and assess query resolution performance.">
<meta property="og:description" content="This package represents an intervention in the BioconductorAnnotationPipeline system. Selected annotation tables for human and mouse were extracted from NCBI resources using the pipeline. The tables were converted to parquet format to manage volume and assess query resolution performance.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">BiocAnnoParq</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="articles/BiocAnnoParq.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="biocannoparq">BiocAnnoParq<a class="anchor" aria-label="anchor" href="#biocannoparq"></a>
</h1></div>
<div class="section level2">
<h2 id="sql-based-interfaces-to-bioconductors-curated-genomic-annotation">SQL-based interfaces to Bioconductor’s curated genomic annotation<a class="anchor" aria-label="anchor" href="#sql-based-interfaces-to-bioconductors-curated-genomic-annotation"></a>
</h2>
<p>The purpose of this package is to examine reliability and performance impacts of reformulating Bioconductor’s curation procedures for general genomic annotation.</p>
<p>The AnnotationDbi idiom involves multiple packages and a bespoke interface using concepts of keys and columns. Thus to identify the three Gene Ontology categories to which gene ORMDL3 has been annotated with traceable author statements, we have:</p>
<pre><code><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">org.Hs.eg.db</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">GO.db</span><span class="op">)</span></span>
<span><span class="va">tas1</span> <span class="op">=</span> <span class="fu">AnnotationDbi</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/AnnotationDbi/man/AnnotationDb-class.html" class="external-link">select</a></span><span class="op">(</span><span class="va">org.Hs.eg.db</span>, keytype<span class="op">=</span><span class="st">"SYMBOL"</span>, keys<span class="op">=</span><span class="st">"ORMDL3"</span>,</span>
<span>  columns<span class="op">=</span><span class="st">"GO"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">EVIDENCE</span><span class="op">==</span><span class="st">"TAS"</span><span class="op">)</span></span>
<span><span class="va">cats</span> <span class="op">=</span> <span class="va">tas1</span><span class="op">$</span><span class="va">GO</span></span>
<span><span class="fu">AnnotationDbi</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/AnnotationDbi/man/AnnotationDb-class.html" class="external-link">select</a></span><span class="op">(</span><span class="va">GO.db</span>, keytype<span class="op">=</span><span class="st">"GOID"</span>, keys <span class="op">=</span> <span class="va">cats</span>, columns<span class="op">=</span><span class="st">"TERM"</span><span class="op">)</span></span></code></pre>
<p>With this package, more standard query processes are supported. For example this chunk uses standard dplyr syntax to query cloud-resident parquet files:</p>
<pre><code><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/vjcitn" class="external-link">BiocAnnoParq</a></span><span class="op">)</span></span>
<span><span class="va">con</span> <span class="op">=</span> <span class="fu">DBI</span><span class="fu">::</span><span class="fu"><a href="https://dbi.r-dbi.org/reference/dbConnect.html" class="external-link">dbConnect</a></span><span class="op">(</span><span class="fu">duckdb</span><span class="fu">::</span><span class="fu"><a href="https://r.duckdb.org/reference/duckdb.html" class="external-link">duckdb</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">gi</span> <span class="op">=</span> <span class="fu"><a href="reference/query_osn.html">query_osn</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"gene_info"</span><span class="op">)</span></span>
<span><span class="va">ggo</span> <span class="op">=</span> <span class="fu"><a href="reference/query_osn.html">query_osn</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"gene2go"</span><span class="op">)</span></span>
<span><span class="va">otas</span> <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">gi</span> <span class="op">|&gt;</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">symbol</span> <span class="op">==</span> <span class="st">"ORMDL3"</span><span class="op">)</span>,</span>
<span>                        <span class="va">ggo</span> <span class="op">|&gt;</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">evidence</span><span class="op">==</span><span class="st">"TAS"</span><span class="op">)</span>,</span>
<span>          by<span class="op">=</span><span class="st">"gene_id"</span><span class="op">)</span></span>
<span><span class="va">otas</span></span></code></pre>
<p>The <code>query_osn</code> function arranges connections to tables derived from NCBI resources using tooling in the BioconductorAnnotationPipeline stack.</p>
<p>The use of parquet appears to produce at least 10-fold reductions in file size. Code complexity is also reduced with this approach, which does permit queries in pure SQL.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="NA/NA/NA/">Browse source code</a></li>
<li><a href="https://github.com/vjcitn" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/Artistic-2.0" class="external-link">Artistic-2.0</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing BiocAnnoParq</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Vince Carey <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-4046-0063" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Vince Carey.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
